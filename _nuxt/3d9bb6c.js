(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{304:function(e,t,n){"use strict";var r=n(2),o=n(175).end,c=n(176)("trimEnd"),l=c?function(){return o(this)}:"".trimEnd;r({target:"String",proto:!0,forced:c},{trimEnd:l,trimRight:l})},307:function(e,t){},310:function(e,t){},311:function(e,t){},322:function(e,t){},323:function(e,t){},330:function(e,t){},332:function(e,t){},333:function(e,t){},334:function(e,t){},337:function(e,t){},341:function(e,t){},347:function(e,t){},350:function(e,t){},351:function(e,t){},358:function(e,t){},359:function(e,t){},362:function(e,t){},363:function(e,t){},511:function(e,t,n){var content=n(881);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(63).default)("d660524c",content,!0,{sourceMap:!1})},880:function(e,t,n){"use strict";n(511)},881:function(e,t,n){var r=n(62)(!1);r.push([e.i,'.sygnet{color:#bababa;font-size:2.2rem;font-weight:800;margin-bottom:4rem!important}.logo{margin-top:4rem!important}.success{font-size:5rem;color:#e07121;font-weight:800}.this-is-sth{color:#1e2e69;font-size:2rem;font-weight:700}.back-to-home{color:#1a245f;font-size:1rem;font-weight:700}.fire-button{margin:1rem!important}.lorem-ipsum{color:#1c2b67;font-size:1rem;font-weight:600;max-width:70vh}@media (max-width:800px){.lorem-ipsum{margin:0!important}}.stepper{font-size:1rem;font-weight:800}.stepper--text{color:#1b2757}.stepper--index{color:#e07121}.balance,.stepper--count{color:#8f80b9}.balance{font-weight:700;margin:0!important}.max-tokens{font-size:smaller;margin:0!important}.title{font-family:"Quicksand","Source Sans Pro",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px}.subtitle{font-weight:300;font-size:42px;color:#526488;word-spacing:5px;padding-bottom:15px}.links{padding-top:15px}',""]),e.exports=r},902:function(e,t,n){"use strict";n.r(t);var r,o=n(6),c=(n(50),n(120),n(304),n(37),n(305)),l=n.n(c),d={data:function(){return{currentAllowance:0,allowanceAmount:"0",userAddr:null,addresses:""}},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$content,t.next=3,n("addresses").fetch();case 3:return r=t.sent,o=r.token,c=r.claimer,t.next=8,n("XD").fetch();case 8:return l=t.sent,t.next=11,n("TokenClaimer").fetch();case 11:return d=t.sent,t.abrupt("return",{claimer_abi:d.abi,claimer_address:c,token_abi:l.abi,token_address:o});case 13:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;window.ethereum||alert("Metamask not detected"),this.updateContracts(),window.ethereum.enable().then((function(t){e.userAddr=t[0],console.log("User address is",e.userAddr),e.updateAllowance()}));var t=this;window.ethereum.on("accountsChanged",(function(e){console.log("User address changed to",e[0]),t.userAddr=e[0],t.updateAllowance()}))},methods:{updateAllowance:function(){var e=this;getAllowance(this.token,this.userAddr,this.claimer_address).then((function(t){return e.currentAllowance=e.w3.utils.fromWei(t)}))},updateContracts:function(){var e=this.w3=window.w3=new l.a(window.ethereum);try{this.claimer=window.claimer=new e.eth.Contract(this.claimer_abi,this.claimer_address,{from:e.givenProvider.selectedAddress}),this.token=window.token=new e.eth.Contract(this.token_abi,this.token_address,{from:e.givenProvider.selectedAddress})}catch(e){console.log(e),alert(e)}},updateEndpoints:function(){this.updateContracts(),this.updateAllowance()},increaseAllowance:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.w3.utils.toWei(e.allowanceAmount),t.next=3,performTx(e,e.token.methods.increaseAllowance(e.claimer_address,n).send());case 3:case"end":return t.stop()}}),t)})))()},decreaseAllowance:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.w3.utils.toWei(e.allowanceAmount),t.next=3,performTx(e,e.token.methods.decreaseAllowance(e.claimer_address,n).send());case 3:case"end":return t.stop()}}),t)})))()},submit:(r=Object(o.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.addresses?this.addresses.trimEnd().split("\n"):[])&&0!=t.length){e.next=4;break}return alert("Invalid input"),e.abrupt("return");case 4:return console.log(t),e.next=7,performTx(this,this.claimer.methods.addClaimees(t).send({from:this.userAddr}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}},m=(n(880),n(39)),component=Object(m.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("text",[e._v("\n  Current allowance of token "),n("br"),e._v(" "),n("code",[e._v(e._s(e.token_address))]),e._v(" "),n("br"),e._v("\n  for TokenClaimer contract "),n("br"),e._v(" "),n("code",[e._v(e._s(e.claimer_address))]),e._v(" "),n("br"),e._v("\n  on behalf of user "),n("br"),e._v(" "),n("code",[e._v(e._s(e.userAddr))]),e._v(" "),n("br"),e._v("\n  is "),n("br"),e._v("\n  "+e._s(e.currentAllowance)+" tokens"),n("br")]),e._v(" "),n("div",[n("p",[n("label",[e._v("Allowance\n    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.allowanceAmount,expression:"allowanceAmount"}],attrs:{type:"text"},domProps:{value:e.allowanceAmount},on:{input:function(t){t.target.composing||(e.allowanceAmount=t.target.value)}}})])]),e._v(" "),n("button",{on:{click:e.increaseAllowance}},[e._v("Increase")]),e._v(" "),n("button",{on:{click:e.decreaseAllowance}},[e._v("Decrease")])]),e._v(" "),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.addresses,expression:"addresses"}],domProps:{value:e.addresses},on:{input:function(t){t.target.composing||(e.addresses=t.target.value)}}}),e._v(" "),n("button",{on:{click:e.submit}},[e._v("Submit")])])])}),[],!1,null,null,null);t.default=component.exports}}]);